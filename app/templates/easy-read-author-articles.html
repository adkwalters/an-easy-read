{% extends "easy-read-layout.html" %}

<!-- Page metadata -->
{% block description %}
    <meta name="description" content="">
{% endblock %}

<!-- CSS -->
{% block stylesheets %}
    <link rel="stylesheet" href="/static/easy-read-navigation.css"/>  
    <link rel="stylesheet" href="/static/easy-read-general.css"/> 
    <link rel="stylesheet" href="/static/easy-read-article.css"/> 
{% endblock %}

<!-- JavaScript -->
{% block scripts %}
    <script src="/static/easy-read-header.js" defer></script>
{% endblock %}

<!-- Main -->
{% block main %}
    <div class="full-spread">
        <h1>My Articles</h1>
        <section id="author-articles" class="articles-display-pannel">
            <ul>
                {% if articles is not none %}
                    {% for article in articles %}
                    <li class="label-colour article-preview">
                        {% if article['Image'].src %}
                            <figure>
                                <img src="{{ article['Image'].src }}">
                                <figcaption><h3>{{ article['Article'].title }}</h3></figcaption>
                            </figure>
                        {% else %}
                            <i class="far fa-image"></i>
                            <h3>{{ article['Article'].title }}</h3>
                        {% endif %}
                        <p>{{ article['Article'].description }}</p>
                        <div class="article-controls">
                            <form action="{{ url_for('main.edit_article') }}" method="get">
                                <input type="hidden" name="article-id" value="{{ article['Article'].id }}">
                                <button type="submit" class="button grey-out edit-article-button">Edit</button></a>
                            </form>
                            <form action="">
                                <input type="hidden" value="{{ article['Article'].id }}">
                                <button type="submit" class="button grey-out edit-article-button">Publish</button>
                            </form>
                            <form action="{{ url_for('main.delete_article') }}" method="get" onSubmit="return confirm('Click OK to delete this article.')">
                                <input type="hidden" name="article-id" value="{{ article['Article'].id }}">
                                <button type="submit" class="button delete edit-article-button">Delete</button>
                            </form>
                        </div>
                    </li>
                    {% endfor %}
                {% endif %}
                <a id="add-article-button" href="{{ url_for('main.create_article') }}"><i class="far fa-plus-square"></i></a>
            </ul>
        </section>
    </div>
{% endblock %}